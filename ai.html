<!DOCTYPE html>
<html lang="zh">
<head>
  
</head>
<body>
<!-- 先添加一个触发按钮 -->
<button onclick="forceOpenChat()" style="position: fixed; top: 10px; left: 10px; z-index: 10000; background: #1890ff; color: white; border: none; padding: 10px; border-radius: 5px;">
  FOUNDO AI
</button>

<script src="https://sf-cdn.coze.com/obj/unpkg-va/flow-platform/chat-app-sdk/1.2.0-beta.6/libs/oversea/index.js"></script>
<script>
  new CozeWebSDK.WebChatClient({
    config: {
      bot_id: '7565164287006638087',
    },
    componentProps: {
      title: 'FOUNDO AI',
    },
    auth: {
      type: 'token',
      token: 'pat_XS3c4EiNz2745CvuBzL7UfCyXo5YP8O0hDeYSIPWHDexG9LzV5ZNy2t4TkEUqR6c',
      onRefreshToken: function () {
        return 'pat_XS3c4EiNz2745CvuBzL7UfCyXo5YP8O0hDeYSIPWHDexG9LzV5ZNy2t4TkEUqR6c'
      }
    }
  });

  function forceOpenChat() {
    console.log('强制打开聊天框...');
    // 模拟键盘事件
    const escEvent = new KeyboardEvent('keydown', {
      key: 'Escape',
      code: 'Escape',
      keyCode: 27,
      which: 27,
      bubbles: true
    });
    document.dispatchEvent(escEvent);
    
    // 查找所有可能的元素并点击
    const allElements = document.querySelectorAll('*');
    allElements.forEach(el => {
      const rect = el.getBoundingClientRect();
      const style = window.getComputedStyle(el);
      if (style.position === 'fixed' && rect.width > 40 && rect.height > 40) {
        console.log('点击元素:', el);
        el.click();
      }
    });
  }

  // 页面加载后自动触发
  setTimeout(forceOpenChat, 3000);
  
</script>
  
</body>
</html>
